<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wiz Academy - Grammar Quest</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app" class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo-icon">🪄</div>
                <div class="header-info">
                    <h1 class="title">Wiz Academy</h1>
                    <div class="mode-display">Mode: <span id="game-mode">INTRO</span></div>
                </div>
            </div>
            <div class="header-right">
                <button id="mana-btn" class="mana-button">
                    🔋 <span id="mana-display">50</span>
                </button>
                <button id="grimoire-btn" class="grimoire-button">
                    📖 <span>Grimoire</span>
                </button>
            </div>
        </header>

        <!-- Visual Stage -->
        <main class="stage" id="stage">
            <div class="stage-overlay"></div>
            
            <!-- Character Display -->
            <div class="character-container" id="character-container">
                <div class="character" id="character">
                    <div class="character-icon" id="character-icon">🐻</div>
                </div>
                <div class="hp-bar" id="hp-bar-container">
                    <div class="hp-fill" id="hp-fill" style="width: 100%"></div>
                </div>
            </div>

            <!-- Chat Area -->
            <div class="chat-area" id="chat-area">
                <!-- Messages will be dynamically added here -->
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <!-- Task Guide -->
                <div class="task-guide" id="task-guide">
                    <div class="task-header">
                        <span class="task-type" id="task-type">⚔️ Combat Task</span>
                        <span class="task-step" id="task-step">Step 1</span>
                    </div>
                    <div class="task-instruction" id="task-instruction">
                        게임을 시작합니다...
                    </div>
                </div>

                <!-- Input Area -->
                <div class="input-area">
                    <input 
                        type="text" 
                        id="user-input" 
                        class="message-input" 
                        placeholder="주문을 입력하세요..."
                    >
                    <button id="send-btn" class="send-button">
                        <span id="send-icon">➤</span>
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <!-- Grimoire Modal -->
    <div id="grimoire-modal" class="modal hidden">
        <div class="modal-content grimoire-content">
            <button class="modal-close" id="grimoire-close">✕</button>
            <h2 class="modal-title">📖 마법 도감 (Grimoire)</h2>
            <div class="grimoire-section">
                <h3>⚡ 전투 마법 공식 (Syntax)</h3>
                <div class="formula">S (주인공) + V (행동) + O (대상)</div>
                <ul>
                    <li><strong>I</strong> (나) + <strong>hit</strong> (때리다) + <strong>the slime</strong> (슬라임)</li>
                    <li><strong>I</strong> (나) + <strong>make</strong> (만들다) + <strong>a shield</strong> (방패)</li>
                </ul>
            </div>
            <div class="grimoire-section">
                <h3>🗣️ 소통의 기술 (Expression)</h3>
                <p>원하는 게 있을 땐: <strong>"I want ~"</strong></p>
                <p>질문할 땐: <strong>"Do you want ~?"</strong></p>
            </div>
        </div>
    </div>

    <!-- Mana Station Modal -->
    <div id="mana-modal" class="modal hidden">
        <div class="modal-content mana-content">
            <button class="modal-close" id="mana-close">✕</button>
            <h2 class="modal-title">🔋 마나 충전소</h2>
            <div class="quiz-display" id="quiz-display">
                <div class="quiz-word" id="quiz-word">때리다</div>
                <div class="quiz-hint">영어로 무엇일까요?</div>
            </div>
            <div class="quiz-options" id="quiz-options">
                <!-- Options will be added dynamically -->
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
